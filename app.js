(()=>{"use strict";var e,t={752:(e,t,n)=>{n(260);const a=n(542),s=n(587);class o extends Phaser.Game{constructor(){super({width:640,height:360,type:Phaser.WEBGL,parent:"content",physics:{default:"arcade"},scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},pipeline:{PicoCRT:s.PicoCRT},scene:[a.LoaderScene,a.MainScene]})}}new o},780:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.SHIBA_WALK="shiba-walk"}(n||(n={})),t.default=n},762:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.EIGHT_BIT_DETECTIVE="8bit-detective",e.ATARI_SMOOTH="atari-smooth",e.BACK_BUILDINGS="back-builings",e.FAR_BUILDINGS="far-builings",e.FOREGROUND="foreground",e.SHIBA="shiba"}(n||(n={})),t.default=n},230:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.PICO_CRT="PicoCRT"}(n||(n={})),t.default=n},66:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.LOADER_SCENE="loader-scene",e.MAIN_SCENE="main-scene"}(n||(n={})),t.default=n},48:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Scene=t.Pipeline=t.Asset=t.Animation=void 0;var s=n(780);Object.defineProperty(t,"Animation",{enumerable:!0,get:function(){return a(s).default}});var o=n(762);Object.defineProperty(t,"Asset",{enumerable:!0,get:function(){return a(o).default}});var r=n(230);Object.defineProperty(t,"Pipeline",{enumerable:!0,get:function(){return a(r).default}});var i=n(66);Object.defineProperty(t,"Scene",{enumerable:!0,get:function(){return a(i).default}})},924:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const a=n(48);class s extends Phaser.Renderer.WebGL.Pipelines.PostFXPipeline{constructor(e){super({game:e,name:a.Pipeline.PICO_CRT,fragShader:"\nprecision mediump float;\n\nvarying vec2\t\toutTexCoord;\nuniform vec2\t\tu_canvasSize;\nuniform sampler2D\tu_texture;\n\n// PUBLIC DOMAIN CRT STYLED SCAN-LINE SHADER\n//   by Timothy Lottes\n// https://www.shadertoy.com/view/XsjSzR\n//   modified (borked) by ultrabrite\n\n// Emulated input resolution.\nconst vec2 texSize = vec2(160.0, 90.0);\n\n// Hardness of scanline.\n//  -8.0 = soft\n// -16.0 = medium\nfloat hardScan = -16.0;\n\n// Hardness of pixels in scanline.\n// -2.0 = soft\n// -4.0 = hard\nconst float hardPix = -4.0;\n\n// Hardness of shadow mask in scanline.\n// 0.5 = hard\n// 3.0 = soft\nconst float hardMask = 3.0;\n\nconst vec3 compos = vec3(1.0 / 6.0, 1.0 / 2.0, 5.0 / 6.0);\n\n// Display warp.\n// 0.0 = none\n// 1.0/8.0 = extreme\nconst vec2 warp=vec2(1.5 / 24.0, 1.5 /24.0);\n\n//------------------------------------------------------------------------\n\n// Nearest emulated sample given floating point position and texel offset.\n// Also zero's off screen.\nvec3 Fetch(vec2 pos,vec2 off)\n{\n    pos=floor(pos * texSize + off) / texSize;\n    if (pos.x<0.0 || pos.x>=1.0 || pos.y<0.0 || pos.y>=1.0)\n        return vec3(0.0,0.0,0.0);\n    return texture2D(u_texture,pos.xy).rgb;\n}\n\n// Distance in emulated pixels to nearest texel.\nvec2 Dist(vec2 pos)\n{\n    pos=pos * texSize;\n    return -((pos-floor(pos))-vec2(0.5));\n}\n\n// 1D Gaussian.\nfloat Gaus(float pos,float scale)\n{\n    return exp2(scale*pos*pos);\n}\n\n// 3-tap Gaussian filter along horz line.\nvec3 Horz3(vec2 pos,float off)\n{\n    mat3 m=mat3(Fetch(pos,vec2(-1.0,off)),\n                Fetch(pos,vec2( 0.0,off)),\n                Fetch(pos,vec2( 1.0,off)));\n    float dst=Dist(pos).x;\n    // Convert distance to weight.\n    vec3 v=vec3(Gaus(dst-1.0,hardPix),\n                Gaus(dst+0.0,hardPix),\n                Gaus(dst+1.0,hardPix));\n        // Return filtered sample.\n        return (m*v)/(v.x+v.y+v.z);\n}\n\n// 5-tap Gaussian filter along horz line.\nvec3 Horz5(vec2 pos,float off)\n{\n    vec3 a = Fetch(pos, vec2(-2.0, off));\n    vec3 b = Fetch(pos, vec2(-1.0, off));\n    vec3 c = Fetch(pos, vec2(0.0, off));\n    vec3 d = Fetch(pos, vec2(1.0, off));\n    vec3 e = Fetch(pos, vec2(2.0, off));\n    \n    float dstx = Dist(pos).x;\n    \n    // Convert distance to weight.\n    float wa = Gaus(dstx - 2.0, hardPix);\n    float wb = Gaus(dstx - 1.0, hardPix);\n    float wc = Gaus(dstx + 0.0, hardPix);\n    float wd = Gaus(dstx + 1.0, hardPix);\n    float we = Gaus(dstx + 2.0, hardPix);\n    \n    // Return filtered sample.\n    return (a * wa + b * wb + c * wc + d * wd + e * we) / (wa + wb + wc + wd + we);\n}\n\n// Allow nearest three lines to effect pixel.\nvec3 Tri(vec2 pos)\n{\n    mat3 m = mat3(Horz3(pos, -1.0),\n                Horz5(pos, 0.0),\n                Horz3(pos, 1.0));\n\n    float dsty = Dist(pos).y;\n\n    vec3 v = vec3(Gaus(dsty - 1.0, hardScan),\n                Gaus(dsty + 0.0, hardScan),\n                Gaus(dsty + 1.0, hardScan));\n    return m*v;\n}\n\n// Distortion of scanlines, and end of screen alpha.\nvec2 Warp(vec2 pos)\n{\n    pos = pos * 2.0 - 1.0;\n    pos *= 1.0 + vec2(pos.y * pos.y, pos.x * pos.x) * warp;\n    return pos * 0.5 + 0.5;\n}\n\nvec3 Mask(float x)\n{\n    vec3 v  = clamp((fract(x) - compos) * hardMask, -1.0 / 3.0, 1.0 / 3.0);\n    return 2.0 / 3.0 + abs(v);\n}\n\nvoid main()\n{\n    gl_FragColor.rgb = Tri(Warp(outTexCoord.xy))*Mask(outTexCoord.x*texSize.x);\n    gl_FragColor.a = 1.0;\n}\n"})}}t.default=s},587:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PicoCRT=void 0;var s=n(924);Object.defineProperty(t,"PicoCRT",{enumerable:!0,get:function(){return a(s).default}})},687:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const a=n(48);t.default=[{type:"image",name:a.Asset.FAR_BUILDINGS,path:"assets/far-buildings.png"},{type:"image",name:a.Asset.BACK_BUILDINGS,path:"assets/back-buildings.png"},{type:"image",name:a.Asset.BACK_BUILDINGS,path:"assets/back-buildings.png"},{type:"image",name:a.Asset.FOREGROUND,path:"assets/foreground.png"},{type:"spritesheet",name:a.Asset.SHIBA,path:"assets/shiba.png",frameConfig:{frameWidth:32,frameHeight:32}},{type:"audio",name:a.Asset.EIGHT_BIT_DETECTIVE,path:"assets/8bit-detective.mp3"},{type:"bitmap-font",name:a.Asset.ATARI_SMOOTH,path:"assets/atari-smooth.png",fontData:"assets/atari-smooth.xml"}]},989:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{text:"yeppyshiba.com",ready:1e3,appear:2e3,hold:2e3,disappear:2e3},{text:"PROUDLY\nPRESENTS",ready:1e3,appear:2e3,hold:4e3,disappear:2e3},{text:"Yeppy Shiba\nGames",ready:1e3,appear:2e3,hold:2e3,disappear:2e3},{text:"See you\nsoon!",ready:1e3,appear:2e3,hold:2e3,disappear:2e3}]},812:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TextQueue=t.AssetQueue=void 0;var s=n(687);Object.defineProperty(t,"AssetQueue",{enumerable:!0,get:function(){return a(s).default}});var o=n(989);Object.defineProperty(t,"TextQueue",{enumerable:!0,get:function(){return a(o).default}})},266:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const a=n(48),s=n(812);class o extends Phaser.Scene{constructor(){super(a.Scene.LOADER_SCENE)}preload(){const e=this.add.graphics();e.fillStyle(2236962,.8),e.fillRect(160,155,320,50);const t=this.add.graphics();this.load.on("progress",(e=>{t.clear(),t.fillStyle(16777215,1),t.fillRect(170,165,300*e,30)})),this.load.on("complete",(()=>{this.scene.start(a.Scene.MAIN_SCENE)})),s.AssetQueue.forEach((e=>{switch(e.type){case"image":this.load.image(e.name,e.path);break;case"audio":this.load.audio(e.name,e.path);break;case"spritesheet":this.load.spritesheet(e.name,e.path,e.frameConfig);break;case"bitmap-font":this.load.bitmapFont(e.name,e.path,e.fontData)}}))}}t.default=o},132:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const a=n(48),s=n(812);class o extends Phaser.Scene{constructor(){super(a.Scene.MAIN_SCENE),this.scrollSpeed=1,this.textOffset=0}create(){this.addBackground(),this.addShiba(),this.addAudio(),this.addText(),this.addPipeline()}update(){this.updateBackground()}updateBackground(){this.backgroundFar&&(this.backgroundFar.tilePositionX+=this.scrollSpeed/8),this.backgroundBack&&(this.backgroundBack.tilePositionX+=this.scrollSpeed/6),this.backgroundForeground&&(this.backgroundForeground.tilePositionX+=this.scrollSpeed/4)}addPipeline(){this.cameras.main.setPostPipeline(a.Pipeline.PICO_CRT)}addText(){this.text=this.add.dynamicBitmapText(960,180,a.Asset.ATARI_SMOOTH).setText("").setFontSize(30).setOrigin(.5,.5).setCenterAlign(),this.showText()}showText(){const e=s.TextQueue[this.textOffset];this.tweens.timeline({targets:this.text,tweens:[{x:960,duration:e.ready},{x:320,duration:e.appear},{x:320,duration:e.hold},{x:-640,duration:e.disappear}],onStart:()=>{this.text&&this.text.setX(960).setText(e.text)},onComplete:()=>{this.text&&(this.text.setX(-640),this.textOffset++,s.TextQueue.length<=this.textOffset&&(this.textOffset=0),this.showText())}})}addAudio(){this.sound.play(a.Asset.EIGHT_BIT_DETECTIVE)}addShiba(){this.anims.create({key:a.Animation.SHIBA_WALK,frames:this.anims.generateFrameNumbers(a.Asset.SHIBA,{start:4,end:7,first:4}),frameRate:10,repeat:-1}),this.add.sprite(320,296,a.Asset.SHIBA).play(a.Animation.SHIBA_WALK).setScale(4)}addBackground(){this.backgroundFar=this.addScaledBackground(a.Asset.FAR_BUILDINGS,256,192),this.backgroundBack=this.addScaledBackground(a.Asset.BACK_BUILDINGS,256,192),this.backgroundForeground=this.addScaledBackground(a.Asset.FOREGROUND,352,192).setY(9)}addScaledBackground(e,t,n){const a=640/t,s=360/n,o=Math.min(a,s);return this.add.tileSprite(0,0,640,360,e).setScale(o).setOrigin(0,0)}}t.default=o},542:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MainScene=t.LoaderScene=void 0;var s=n(266);Object.defineProperty(t,"LoaderScene",{enumerable:!0,get:function(){return a(s).default}});var o=n(132);Object.defineProperty(t,"MainScene",{enumerable:!0,get:function(){return a(o).default}})}},n={};function a(e){var s=n[e];if(void 0!==s)return s.exports;var o=n[e]={exports:{}};return t[e].call(o.exports,o,o.exports,a),o.exports}a.m=t,e=[],a.O=(t,n,s,o)=>{if(!n){var r=1/0;for(u=0;u<e.length;u++){for(var[n,s,o]=e[u],i=!0,d=0;d<n.length;d++)(!1&o||r>=o)&&Object.keys(a.O).every((e=>a.O[e](n[d])))?n.splice(d--,1):(i=!1,o<r&&(r=o));if(i){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,s,o]},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={143:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var s,o,[r,i,d]=n,c=0;if(r.some((t=>0!==e[t]))){for(s in i)a.o(i,s)&&(a.m[s]=i[s]);if(d)var u=d(a)}for(t&&t(n);c<r.length;c++)o=r[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(u)},n=self.webpackChunkyeppyshiba_com=self.webpackChunkyeppyshiba_com||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var s=a.O(void 0,[216],(()=>a(752)));s=a.O(s)})();
//# sourceMappingURL=app.js.map