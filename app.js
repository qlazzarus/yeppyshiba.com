(()=>{"use strict";var e,t={596:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.SHIBA_WALK="shiba-walk"}(n||(n={})),t.default=n},55:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.EIGHT_BIT_DETECTIVE="8bit_detective",e.BACK_BUILDINGS="back-builings",e.FAR_BUILDINGS="far-builings",e.FOREGROUND="foreground",e.SHIBA="shiba"}(n||(n={})),t.default=n},168:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=s(n(596)),o=s(n(55));class r extends Phaser.Scene{constructor(){super("main-scene"),this.scrollSpeed=1}init(){}preload(){this.load.image(o.default.FAR_BUILDINGS,"assets/far-buildings.png"),this.load.image(o.default.BACK_BUILDINGS,"assets/back-buildings.png"),this.load.image(o.default.FOREGROUND,"assets/foreground.png"),this.load.spritesheet(o.default.SHIBA,"assets/shiba.png",{frameWidth:32,frameHeight:32}),this.load.audio(o.default.EIGHT_BIT_DETECTIVE,"assets/8bit_detective.mp3")}create(){const e=this.scale.width,t=this.scale.height;this.backgroundFar=this.add.tileSprite(0,0,e,t,o.default.FAR_BUILDINGS).setScale(2),this.backgroundBack=this.add.tileSprite(0,-25,e,t,o.default.BACK_BUILDINGS).setScale(2),this.backgroundForeground=this.add.tileSprite(0,-45,e,t,o.default.FOREGROUND).setScale(2.25),this.anims.create({key:a.default.SHIBA_WALK,frames:this.anims.generateFrameNumbers(o.default.SHIBA,{start:4,end:7,first:4}),frameRate:10,repeat:-1}),this.add.sprite(100,t-55,o.default.SHIBA).play(a.default.SHIBA_WALK).setScale(4),this.sound.play(o.default.EIGHT_BIT_DETECTIVE),this.cameras.main.setPostPipeline("PicoCRT")}update(){this.backgroundFar&&(this.backgroundFar.tilePositionX+=this.scrollSpeed/8),this.backgroundBack&&(this.backgroundBack.tilePositionX+=this.scrollSpeed/6),this.backgroundForeground&&(this.backgroundForeground.tilePositionX+=this.scrollSpeed/4)}}t.default=r},625:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class n extends Phaser.Renderer.WebGL.Pipelines.PostFXPipeline{constructor(e){super({game:e,name:"PicoCRT",renderTarget:!0,fragShader:"\nprecision mediump float;\n\nvarying vec2\t\toutTexCoord;\nuniform vec2\t\tu_canvasSize;\nuniform sampler2D\tu_texture;\n\n// PUBLIC DOMAIN CRT STYLED SCAN-LINE SHADER\n//   by Timothy Lottes\n// https://www.shadertoy.com/view/XsjSzR\n//   modified (borked) by ultrabrite\n\n// Emulated input resolution.\nconst vec2 texSize = vec2(160.0, 90.0);\n\n// Hardness of scanline.\n//  -8.0 = soft\n// -16.0 = medium\nfloat hardScan = -16.0;\n\n// Hardness of pixels in scanline.\n// -2.0 = soft\n// -4.0 = hard\nconst float hardPix = -4.0;\n\n// Hardness of shadow mask in scanline.\n// 0.5 = hard\n// 3.0 = soft\nconst float hardMask = 3.0;\n\nconst vec3 compos = vec3(1.0/6.0,1.0/2.0,5.0/6.0);\n\n// Display warp.\n// 0.0 = none\n// 1.0/8.0 = extreme\nconst vec2 warp=vec2(1.5 / 24.0, 1.5 /24.0);\n\n//------------------------------------------------------------------------\n\n// Nearest emulated sample given floating point position and texel offset.\n// Also zero's off screen.\nvec3 Fetch(vec2 pos,vec2 off)\n{\n    pos=floor(pos * texSize + off) / texSize;\n    if (pos.x<0.0 || pos.x>=1.0 || pos.y<0.0 || pos.y>=1.0)\n        return vec3(0.0,0.0,0.0);\n    return texture2D(u_texture,pos.xy).rgb;\n}\n\n// Distance in emulated pixels to nearest texel.\nvec2 Dist(vec2 pos)\n{\n    pos=pos * texSize;\n    return -((pos-floor(pos))-vec2(0.5));\n}\n\n// 1D Gaussian.\nfloat Gaus(float pos,float scale)\n{\n    return exp2(scale*pos*pos);\n}\n\n// 3-tap Gaussian filter along horz line.\nvec3 Horz3(vec2 pos,float off)\n{\n    mat3 m=mat3(Fetch(pos,vec2(-1.0,off)),\n                Fetch(pos,vec2( 0.0,off)),\n                Fetch(pos,vec2( 1.0,off)));\n    float dst=Dist(pos).x;\n    // Convert distance to weight.\n    vec3 v=vec3(Gaus(dst-1.0,hardPix),\n                Gaus(dst+0.0,hardPix),\n                Gaus(dst+1.0,hardPix));\n        // Return filtered sample.\n        return (m*v)/(v.x+v.y+v.z);\n}\n\n// 5-tap Gaussian filter along horz line.\nvec3 Horz5(vec2 pos,float off)\n{\n    vec3 a=Fetch(pos,vec2(-2.0,off));\n    vec3 b=Fetch(pos,vec2(-1.0,off));\n    vec3 c=Fetch(pos,vec2( 0.0,off));\n    vec3 d=Fetch(pos,vec2( 1.0,off));\n    vec3 e=Fetch(pos,vec2( 2.0,off));\n    float dstx=Dist(pos).x;\n    // Convert distance to weight.\n    float wa=Gaus(dstx-2.0,hardPix);\n    float wb=Gaus(dstx-1.0,hardPix);\n    float wc=Gaus(dstx+0.0,hardPix);\n    float wd=Gaus(dstx+1.0,hardPix);\n    float we=Gaus(dstx+2.0,hardPix);\n    // Return filtered sample.\n    return (a*wa+b*wb+c*wc+d*wd+e*we)/(wa+wb+wc+wd+we);\n}\n\n// Allow nearest three lines to effect pixel.\nvec3 Tri(vec2 pos)\n{\n    mat3 m=mat3(Horz3(pos,-1.0),\n                Horz5(pos, 0.0),\n                Horz3(pos, 1.0));\n    float dsty=Dist(pos).y;\n    vec3 v=vec3(Gaus(dsty-1.0,hardScan),\n                Gaus(dsty+0.0,hardScan),\n                Gaus(dsty+1.0,hardScan));\n    return m*v;\n}\n\n// Distortion of scanlines, and end of screen alpha.\nvec2 Warp(vec2 pos)\n{\n    pos=pos*2.0-1.0;\n    pos*=1.0+vec2(pos.y*pos.y,pos.x*pos.x)*warp;\n    return pos*0.5+0.5;\n}\n\nvec3 Mask(float x)\n{\n    vec3 v  = clamp((fract(x)-compos)*hardMask,-1.0/3.0,1.0/3.0);\n    return 2.0/3.0+abs(v);\n}\n\nvoid main()\n{\n    gl_FragColor.rgb = Tri(Warp(outTexCoord.xy))*Mask(outTexCoord.x*texSize.x);\n    //gl_FragColor.rgb = texture2D(u_texture,outTexCoord).rgb; // original\n    gl_FragColor.a = 1.0;\n}\n"})}}t.default=n},752:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(260);const a=s(n(168)),o=s(n(625));var r;!function(e){class t extends Phaser.Game{constructor(){super({width:640,height:360,type:Phaser.WEBGL,parent:"content",scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},pipeline:{PicoCRT:o.default},scene:a.default})}}e.Game=t}(r||(r={})),new r.Game}},n={};function s(e){var a=n[e];if(void 0!==a)return a.exports;var o=n[e]={exports:{}};return t[e].call(o.exports,o,o.exports,s),o.exports}s.m=t,e=[],s.O=(t,n,a,o)=>{if(!n){var r=1/0;for(d=0;d<e.length;d++){for(var[n,a,o]=e[d],i=!0,c=0;c<n.length;c++)(!1&o||r>=o)&&Object.keys(s.O).every((e=>s.O[e](n[c])))?n.splice(c--,1):(i=!1,o<r&&(r=o));if(i){e.splice(d--,1);var l=a();void 0!==l&&(t=l)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[n,a,o]},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={143:0};s.O.j=t=>0===e[t];var t=(t,n)=>{var a,o,[r,i,c]=n,l=0;if(r.some((t=>0!==e[t]))){for(a in i)s.o(i,a)&&(s.m[a]=i[a]);if(c)var d=c(s)}for(t&&t(n);l<r.length;l++)o=r[l],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(d)},n=self.webpackChunkyeppyshiba_com=self.webpackChunkyeppyshiba_com||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var a=s.O(void 0,[216],(()=>s(752)));a=s.O(a)})();
//# sourceMappingURL=app.js.map